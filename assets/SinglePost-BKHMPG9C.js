import{_ as f,o as u,f as _,k as w,l as x,a as e,i as I,x as C,j as n,u as B,B as L,C as A,h as k,t as r,b as P,n as j,p as U,e as N}from"./index-oNCH62kI.js";const T=["src"],M={__name:"ProfileIcon",props:["picUrl"],setup(t){const l=t;return(o,d)=>(u(),_("img",{src:l.picUrl,width:"42",height:"42",alt:"profile_pic"},null,8,T))}},V=f(M,[["__scopeId","data-v-df9a41f0"]]),Z={title:"Like",class:"heart-container"},q=["checked"],E=C('<div class="svg-container" data-v-a9439e65><svg xmlns="http://www.w3.org/2000/svg" class="svg-outline" viewBox="0 0 24 24" data-v-a9439e65><path d="M17.5,1.917a6.4,6.4,0,0,0-5.5,3.3,6.4,6.4,0,0,0-5.5-3.3A6.8,6.8,0,0,0,0,8.967c0,4.547,4.786,9.513,8.8,12.88a4.974,4.974,0,0,0,6.4,0C19.214,18.48,24,13.514,24,8.967A6.8,6.8,0,0,0,17.5,1.917Zm-3.585,18.4a2.973,2.973,0,0,1-3.83,0C4.947,16.006,2,11.87,2,8.967a4.8,4.8,0,0,1,4.5-5.05A4.8,4.8,0,0,1,11,8.967a1,1,0,0,0,2,0,4.8,4.8,0,0,1,4.5-5.05A4.8,4.8,0,0,1,22,8.967C22,11.87,19.053,16.006,13.915,20.313Z" data-v-a9439e65></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="svg-filled" viewBox="0 0 24 24" data-v-a9439e65><path d="M17.5,1.917a6.4,6.4,0,0,0-5.5,3.3,6.4,6.4,0,0,0-5.5-3.3A6.8,6.8,0,0,0,0,8.967c0,4.547,4.786,9.513,8.8,12.88a4.974,4.974,0,0,0,6.4,0C19.214,18.48,24,13.514,24,8.967A6.8,6.8,0,0,0,17.5,1.917Z" data-v-a9439e65></path></svg><svg xmlns="http://www.w3.org/2000/svg" height="100" width="100" class="svg-celebrate" data-v-a9439e65><polygon points="10,10 20,20" data-v-a9439e65></polygon><polygon points="10,50 20,50" data-v-a9439e65></polygon><polygon points="20,80 30,70" data-v-a9439e65></polygon><polygon points="90,10 80,20" data-v-a9439e65></polygon><polygon points="90,50 80,50" data-v-a9439e65></polygon><polygon points="80,80 70,70" data-v-a9439e65></polygon></svg></div>',1),G={__name:"LikeButton",props:["isLiked"],setup(t){const l=t,o=w("liked");return x(()=>{o.value=l.isLiked,console.log(`from like button ${o.value}`)}),(d,v)=>(u(),_("div",Z,[e("input",{id:"Give-It-An-Id",class:"checkbox",type:"checkbox",checked:I(o)},null,8,q),E]))}},O=f(G,[["__scopeId","data-v-a9439e65"]]),m=t=>(U("data-v-754b3eec"),t=t(),N(),t),D={class:"poster-info"},F={class:"info"},J={class:"handle"},R={class:"main-post"},X=m(()=>e("br",null,null,-1)),z=m(()=>e("br",null,null,-1)),H={key:0,class:"media-gallery"},K=["src"],Q=m(()=>e("div",{class:"h-2"},null,-1)),W={class:"action-bar"},Y={class:"action-btn"},ee={__name:"SinglePost",props:["post_id"],setup(t){const l=n("default_name"),o=n("default_handle"),d=n(""),v=n(""),h=n(""),i=n(0),a=n(!1),g=w("hostname"),y=B();L("liked",a);const c=t;async function b(){console.log(c.post_id);const s=await(await fetch(`${g}/api/post/detail/${c.post_id}`,{method:"GET",credentials:"include"})).json();l.value=s.user.first_name+" "+s.user.last_name,o.value=s.user.username,d.value=s.user.profile_image,v.value=s.content,h.value=s.image,i.value=s.likes,a.value=s.is_liked,console.log(a.value)}A(async()=>{b(),setInterval($,5e4)});async function S(){console.log(c.post_id);const s=await(await fetch(`${g}/api/like/post/`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","X-CSRFToken":y.csrfToken},body:JSON.stringify({post_id:c.post_id})})).json();console.log(s),a.value?i.value-=1:i.value+=1,a.value=!a.value}async function $(){const s=await(await fetch(`${g}/api/post/detail/${c.post_id}`)).json();i.value=s.likes}return(p,s)=>(u(),_("article",null,[e("div",D,[k(V,{picUrl:d.value},null,8,["picUrl"]),e("div",F,[e("p",null,r(l.value),1),e("p",J,"@"+r(o.value),1)])]),e("div",R,[P(p.$slots,"default",{},()=>[X,e("div",null,r(v.value),1),z])]),h.value?(u(),_("div",H,[e("img",{src:h.value,alt:"Unable to load Image"},null,8,K)])):j("",!0),Q,e("div",W,[e("div",Y,[k(O,{onClick:S,isLiked:a.value},null,8,["isLiked"]),e("p",null,r(i.value),1)])])]))}},te=f(ee,[["__scopeId","data-v-754b3eec"]]);export{te as S};
