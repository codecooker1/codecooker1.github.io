import{_,r as A,o as a,c as I,w as l,a as e,b as B,d,p as P,e as T,f as c,u as k,g as L,h as n,i as C,j as u,k as V,l as Z,m as E,v as H,n as b,q as N,t as y,F as R,R as D}from"./index-CTtBHVWy.js";import{c as q,a as O,n as W}from"./index-LSa61d-K.js";import{I as X,C as z}from"./CreatePost-Dm_RJRoa.js";const G=o=>(P("data-v-8ec19c3e"),o=o(),T(),o),J={class:"transition duration-75 text-gray-400 group-hover:text-white"},K=G(()=>e("svg",{class:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 22 21"},[e("path",{d:"M16.975 11H10V4.025a1 1 0 0 0-1.066-.998 8.5 8.5 0 1 0 9.039 9.039.999.999 0 0 0-1-1.066h.002Z"}),e("path",{d:"M12.5 0c-.157 0-.311.01-.565.027A1 1 0 0 0 11 1.02V10h8.975a1 1 0 0 0 1-.935c.013-.188.028-.374.028-.565A8.51 8.51 0 0 0 12.5 0Z"})],-1)),Q={class:"ms-5 text-2xl btn-text"},Y={__name:"SidebarButton",props:["link"],setup(o){return(t,s)=>{const r=A("router-link");return a(),I(r,{to:o.link,class:"flex items-center p-2 rounded-3xl hover:bg-gray-700 group"},{default:l(()=>[e("div",J,[B(t.$slots,"icon",{},()=>[K],!0)]),e("span",Q,[B(t.$slots,"default",{},()=>[d("Dashboards")],!0)])]),_:3},8,["to"])}}},g=_(Y,[["__scopeId","data-v-8ec19c3e"]]),ee={},te={class:"w-[36px] h-[36px]","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},oe=e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-width":"1.9",d:"m21 21-3.5-3.5M17 10a7 7 0 1 1-14 0 7 7 0 0 1 14 0Z"},null,-1),se=[oe];function ne(o,t){return a(),c("svg",te,se)}const ae=_(ee,[["render",ne]]),re={},le={class:"w-[36px] h-[36px]","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},ce=e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.9",d:"M12 21a9 9 0 1 0 0-18 9 9 0 0 0 0 18Zm0 0a8.949 8.949 0 0 0 4.951-1.488A3.987 3.987 0 0 0 13 16h-2a3.987 3.987 0 0 0-3.951 3.512A8.948 8.948 0 0 0 12 21Zm3-11a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"},null,-1),ie=[ce];function ue(o,t){return a(),c("svg",le,ie)}const de=_(re,[["render",ue]]),_e={},he={class:"w-[36px] h-[36px]","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},pe=e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.9",d:"m4 12 8-8 8 8M6 10.5V19a1 1 0 0 0 1 1h3v-3a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3h3a1 1 0 0 0 1-1v-8.5"},null,-1),me=[pe];function fe(o,t){return a(),c("svg",he,me)}const ge=_(_e,[["render",fe]]),ve={},we={class:"w-[36px] h-[36px]","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},xe=e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.9",d:"m8.032 12 1.984 1.984 4.96-4.96m4.55 5.272.893-.893a1.984 1.984 0 0 0 0-2.806l-.893-.893a1.984 1.984 0 0 1-.581-1.403V7.04a1.984 1.984 0 0 0-1.984-1.984h-1.262a1.983 1.983 0 0 1-1.403-.581l-.893-.893a1.984 1.984 0 0 0-2.806 0l-.893.893a1.984 1.984 0 0 1-1.403.581H7.04A1.984 1.984 0 0 0 5.055 7.04v1.262c0 .527-.209 1.031-.581 1.403l-.893.893a1.984 1.984 0 0 0 0 2.806l.893.893c.372.372.581.876.581 1.403v1.262a1.984 1.984 0 0 0 1.984 1.984h1.262c.527 0 1.031.209 1.403.581l.893.893a1.984 1.984 0 0 0 2.806 0l.893-.893a1.985 1.985 0 0 1 1.403-.581h1.262a1.984 1.984 0 0 0 1.984-1.984V15.7c0-.527.209-1.031.581-1.403Z"},null,-1),$e=[xe];function ke(o,t){return a(),c("svg",we,$e)}const be=_(ve,[["render",ke]]),ye={},Ce={class:"w-[36px] h-[36px]","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},Ie=e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.9",d:"m10.827 5.465-.435-2.324m.435 2.324a5.338 5.338 0 0 1 6.033 4.333l.331 1.769c.44 2.345 2.383 2.588 2.6 3.761.11.586.22 1.171-.31 1.271l-12.7 2.377c-.529.099-.639-.488-.749-1.074C5.813 16.73 7.538 15.8 7.1 13.455c-.219-1.169.218 1.162-.33-1.769a5.338 5.338 0 0 1 4.058-6.221Zm-7.046 4.41c.143-1.877.822-3.461 2.086-4.856m2.646 13.633a3.472 3.472 0 0 0 6.728-.777l.09-.5-6.818 1.277Z"},null,-1),Se=[Ie];function Be(o,t){return a(),c("svg",Ce,Se)}const Pe=_(ye,[["render",Be]]),Te={},Ve={class:"w-[36px] h-[36px] text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},Ze=e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.9",d:"M16 12h4M4 18v-1a3 3 0 0 1 3-3h4a3 3 0 0 1 3 3v1a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1Zm8-10a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"},null,-1),je=[Ze];function Me(o,t){return a(),c("svg",Ve,je)}const Ue=_(Te,[["render",Me]]),Fe={class:"sidebar"},Ae={class:"items"},Le={class:"icon-panel"},Ee={class:"ico"},He=e("div",{class:"flex-spacer"},null,-1),Ne={__name:"SidebarView",setup(o){const t=k(),s=L(),r=async()=>{try{await t.logout(s)}catch(h){console.error(h)}};return(h,m)=>(a(),c("aside",Fe,[e("div",Ae,[e("div",Le,[e("ul",Ee,[e("li",null,[n(g,{link:{name:"home"}},{icon:l(()=>[n(ge)]),default:l(()=>[d(" Home ")]),_:1})]),e("li",null,[n(g,{link:{name:"explore"}},{icon:l(()=>[n(ae)]),default:l(()=>[d(" Explore ")]),_:1})]),e("li",null,[n(g,{link:{name:"notifications"}},{icon:l(()=>[n(Pe)]),default:l(()=>[d(" Notifications ")]),_:1})]),e("li",null,[n(g,{link:{name:"user",params:{username:C(t).user.username}}},{icon:l(()=>[n(de)]),default:l(()=>[d(" Profile ")]),_:1},8,["link"])]),e("li",null,[n(g,{link:{name:"pricing"}},{icon:l(()=>[n(be)]),default:l(()=>[d(" Pro ")]),_:1})]),e("li",null,[n(g,{link:"",onClick:r},{icon:l(()=>[n(Ue)]),default:l(()=>[d(" Logout/Login ")]),_:1})])])])]),He]))}},x=o=>(P("data-v-c191caaa"),o=o(),T(),o),Re={class:"userbar"},De=x(()=>e("label",{for:"message",class:"block mb-2 text-sm font-medium text-white"},"What's on your mind?",-1)),qe=x(()=>e("i",{class:"fa fa-cloud-upload"},null,-1)),Oe=x(()=>e("br",null,null,-1)),We=x(()=>e("br",null,null,-1)),Xe={class:"sbutton",type:"submit",name:"submit"},ze={key:0,class:"text-red-500"},Ge=x(()=>e("div",{class:"flex-spacer"},null,-1)),Je={class:"user"},Ke={class:"user-image"},Qe=["src"],Ye={class:"user-info"},et={__name:"UserSidebar",setup(o){const t=u(null),s=u(k()),r=u(""),h=u(!1),m=u(null),v=u(null),p=u(""),S=V("hostname");async function j(w){console.log("uploading file");const i=await O(w);console.log(`file: ${i}`),console.log(`usernamr: ${s.value.user.username}`);const{data:f,error:$}=await m.value.storage.from("ItterMedia").upload(`/${s.value.user.username}/${W()}.webp`,i,{contentType:"image/webp"});$?(console.error("Error uploading file:",$),$.value=$):(console.log("File uploaded successfully:",f),p.value=await m.value.storage.from("ItterMedia").getPublicUrl(f.path).data.publicUrl,console.log("Public URL:",p.value))}async function M(){h.value=!0,s.value.setCsrfToken(),v.value&&await j(v.value),console.log(`csrf from before post ${s.value.csrfToken}`);const i=await(await fetch(`${S}/api/create/post`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","X-CSRFToken":s.value.csrfToken},body:JSON.stringify({content:r.value})})).json();i.error?(console.log(i.error),t.value=i.error):(console.log("success"),t.value=null,r.value=""),h.value=!1}async function U(w){v.value=w.target.files[0]}function F(){document.getElementById("pi").click()}return Z(async()=>{s.value=k(),s.value.fetchUser(),m.value=q(void 0,void 0)}),(w,i)=>(a(),c("aside",Re,[e("form",{class:"mx-auto",onSubmit:N(M,["prevent"]),method:"post"},[De,E(e("textarea",{id:"message ",rows:"4","onUpdate:modelValue":i[0]||(i[0]=f=>r.value=f),class:"block p-2.5 w-full text-sm rounded-lg border bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500",placeholder:"What's on your mind...",name:"message",required:""},null,512),[[H,r.value]]),e("label",{for:"pi",onClick:F},[qe,d(" Upload Image "),e("input",{style:{padding:"0px"},onChange:i[1]||(i[1]=f=>U(f)),placeholder:"profile_image",id:"pi",type:"file",name:"profile_image",accept:"image/*",class:"textInput",capture:""},null,32)]),Oe,We,e("button",Xe,[h.value?(a(),I(X,{key:0})):b("",!0),d(" Create Post ")])],32),t.value?(a(),c("p",ze,y(t.value),1)):b("",!0),Ge,e("div",Je,[e("div",Ke,[e("img",{src:s.value.user.profile_image,alt:"User Profile Image"},null,8,Qe)]),e("div",Ye,[e("h2",null,y(s.value.user.username),1),e("p",null,y(s.value.user.email),1)])])]))}},tt=_(et,[["__scopeId","data-v-c191caaa"]]),ot={},st={class:"w-[46px] h-[46px] text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"46",height:"46",fill:"none",viewBox:"0 0 24 24"},nt=e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.7",d:"m4.988 19.012 5.41-5.41m2.366-6.424 4.058 4.058-2.03 5.41L5.3 20 4 18.701l3.355-9.494 5.41-2.029Zm4.626 4.625L12.197 6.61 14.807 4 20 9.194l-2.61 2.61Z"},null,-1),at=[nt];function rt(o,t){return a(),c("svg",st,at)}const lt=_(ot,[["render",rt]]),ct={class:"structure"},it={class:"usersidebar-wrapper"},ut={class:"feedarea"},dt={class:"sidebar-wrapper"},mt={__name:"HomeView",setup(o){const t=u([]),s=k(),r=u(!1),h=V("hostname");Z(async()=>{const p=await(await fetch(`${h}/api/feed/`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json","X-CSRFToken":s.csrfToken,"Accept-Encoding":"gzip, deflate, br"}})).json();t.value=p.posts,console.log(t)});async function m(){r.value=!r.value}return(v,p)=>(a(),c(R,null,[e("div",ct,[e("div",it,[n(tt)]),e("main",ut,[n(C(D)),C(s).user?(a(),c("button",{key:0,class:"create-post-button",onClick:m},[n(lt)])):b("",!0)]),e("div",dt,[n(Ne)])]),r.value?(a(),I(z,{key:0,onClose:p[0]||(p[0]=S=>r.value=!1)})):b("",!0)],64))}};export{mt as default};
