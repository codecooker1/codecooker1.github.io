import{_ as y,j as o,u as I,l as P,f as i,a as s,t as a,F,z as T,k as x,A as C,o as r,h as N,p as V,e as $}from"./index-CTtBHVWy.js";import{S as B}from"./SinglePost-x3xFLyky.js";const u=l=>(V("data-v-98c40b03"),l=l(),$(),l),U={class:"profile"},A={class:"profile-header"},E=["src"],R={class:"profile-name"},z={class:"profile-handle"},D={class:"profile-bio"},G={class:"profile-stats"},L={class:"stat"},M={class:"stat-number"},O=u(()=>s("span",{class:"stat-label"},"Posts",-1)),X={class:"stat"},q={class:"stat-number"},H=u(()=>s("span",{class:"stat-label"},"Followers",-1)),J={class:"stat"},K={class:"stat-number"},Q=u(()=>s("span",{class:"stat-label"},"Following",-1)),W={__name:"ProfileView",setup(l){const _=o(""),p=o(""),d=o(""),f=o(""),v=o(""),n=o([]),h=o(0),m=o(0),w=x("hostname"),g=C(),k=I(),c=o("Follow"),t=o(!1);P(async()=>{const e=await(await fetch(`${w}/api/user/detail/${g.params.username}`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}})).json();_.value=e.profile_image,p.value=e.first_name,d.value=e.last_name,f.value=e.username,v.value=e.bio,h.value=e.followers,m.value=e.following,n.value=e.posts,t.value=e.is_following,c.value=t.value?"Unfollow":"Follow"});async function j(){const e=await(await fetch(`${w}/api/user/follow/${g.params.username}`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","X-CSRFToken":k.csrfToken}})).json();e&&(t.value=!t.value,c.value=t.value?"Unfollow":"Follow"),console.log(e)}return(b,e)=>(r(),i(F,null,[s("div",U,[s("div",A,[s("img",{src:_.value,alt:"Profile Image",class:"profile-image"},null,8,E),s("h1",R,a(p.value)+" "+a(d.value),1),s("p",z,"@"+a(f.value),1),s("button",{onClick:j,class:"follow-button"},a(c.value),1)]),s("div",D,[s("p",null,a(v.value),1)]),s("div",G,[s("div",L,[s("span",M,a(n.value.length),1),O]),s("div",X,[s("span",q,a(h.value),1),H]),s("div",J,[s("span",K,a(m.value),1),Q])])]),(r(!0),i(F,null,T(n.value,S=>(r(),i("div",{class:"post",key:S.post_id},[N(B,{post_id:S.post_id},null,8,["post_id"])]))),128))],64))}},ss=y(W,[["__scopeId","data-v-98c40b03"]]);export{ss as default};
