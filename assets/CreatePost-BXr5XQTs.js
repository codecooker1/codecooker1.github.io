import{_ as v,o as d,c as i,a as b,u as h,r as n,d as e,n as m,m as g,v as y,j as k,g as l,k as x,t as S,p as w,h as C}from"./index-CqcyaXfI.js";const T={},P={class:"loader"},I=b('<div class="bar1" data-v-a7006477></div><div class="bar2" data-v-a7006477></div><div class="bar3" data-v-a7006477></div><div class="bar4" data-v-a7006477></div><div class="bar5" data-v-a7006477></div><div class="bar6" data-v-a7006477></div><div class="bar7" data-v-a7006477></div><div class="bar8" data-v-a7006477></div><div class="bar9" data-v-a7006477></div><div class="bar10" data-v-a7006477></div><div class="bar11" data-v-a7006477></div><div class="bar12" data-v-a7006477></div>',12),N=[I];function V(t,s){return d(),i("div",P,N)}const B=v(T,[["render",V],["__scopeId","data-v-a7006477"]]),u=t=>(w("data-v-d50ff178"),t=t(),C(),t),$={id:"create-post-modal"},j={class:"create-post-background"},D={class:"create-post"},M=u(()=>e("h2",null,"Create a Post",-1)),O=u(()=>e("label",{for:"message",class:"block mb-2 text-sm font-medium text-white"},null,-1)),q={class:"sbutton",type:"submit",name:"submit"},A={key:0,class:"text-red-500"},E={__name:"CreatePost",setup(t){const s=h(),o=n(""),r=n(null),c=n(!1);async function _(){c.value=!0,s.setCsrfToken(),console.log(`csrf from before post ${s.csrfToken}`);const a=await(await fetch("https://itter.pythonanywhere.com/api/create/post",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","X-CSRFToken":s.csrfToken},body:JSON.stringify({content:o.value})})).json();a.error?(console.log(a.error),r.value=a.error):(console.log("success"),r.value=null,o.value=""),c.value=!1}return(p,a)=>(d(),i("div",$,[e("div",j,[e("div",D,[M,e("form",{onSubmit:m(_,["prevent"])},[O,g(e("textarea",{"onUpdate:modelValue":a[0]||(a[0]=f=>o.value=f),placeholder:"What's on your mind?",class:"block p-2.5 w-full text-sm rounded-lg border bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[y,o.value]]),e("button",q,[c.value?(d(),k(B,{key:0})):l("",!0),x(" Post")])],32),r.value?(d(),i("p",A,S(r.value),1)):l("",!0)])])]))}},J=v(E,[["__scopeId","data-v-d50ff178"]]);export{J as default};
